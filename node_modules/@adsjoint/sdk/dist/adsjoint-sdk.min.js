!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).AdsjointSDK={})}(this,function(e){"use strict";const n="Boost Your Productivity with Notion AI!",t="https://via.placeholder.com/468x60?text=Your+Ad+Here",o="https://notion.so",i={travel:{adid:123456,title:"Lonely Planet: Explore the World",imageUrl:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=800&q=60",clickUrl:"https://www.lonelyplanet.com/"},game:{adid:234567,title:"Epic: Play Popular Games",imageUrl:"https://images.unsplash.com/photo-1542751110-97427bbecf20?auto=format&fit=crop&w=800&q=60",clickUrl:"https://www.epicgames.com/"},finance:{adid:345678,title:"Smart Money Moves",imageUrl:"https://images.unsplash.com/photo-1565372615215-75774bd4db19?auto=format&fit=crop&w=800&q=60",clickUrl:"https://www.investopedia.com/"}};!function(e,n){void 0===n&&(n={});var t=n.insertAt;if("undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===t&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".ad-inline{display:block;height:100%;width:100%}.inline-ad-card{background:#fff;border:1px solid #e0e0e0;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.08);cursor:pointer;display:flex;flex-direction:column;height:100%;overflow:hidden;transition:transform .15s ease,box-shadow .15s ease;width:100%}.inline-ad-card:hover{box-shadow:0 4px 10px rgba(0,0,0,.12);transform:translateY(-2px)}.inline-ad-image{border-bottom:1px solid #eee;display:block;height:60%;object-fit:cover;width:100%}.inline-ad-text{background:#fff;padding:10px 12px}.inline-ad-promoted{color:#888;font-size:11px;margin-bottom:4px;text-transform:uppercase}.inline-ad-title{color:#222;font-size:15px;font-weight:600;line-height:1.3}.ad-banner{align-items:center;background:#f9f9f9;border:1px solid #ccc;cursor:pointer;display:flex;height:100px;justify-content:center;width:100%}");const d=()=>!1,a=e=>{if(!e||!e.text||"ai"!==e.sender)return!1;const n=e.text.toLowerCase();return n.includes("travel")||n.includes("game")||n.includes("finance")};let l={shouldShowBannerAd:d,shouldShowInlineAd:a};function r(e={}){l={...l,...e},console.log("[SDK] initAds applied:",l)}function s(e=""){const n=e.toLowerCase();return n.includes("travel")?"travel":n.includes("game")?"game":n.includes("finance")?"finance":null}function c({adId:e,type:n,event:t}){fetch("https://webhook.site/6adc82fd-eec4-4ae3-a831-a4ffef854e77",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({adId:e,type:n,event:t,timestamp:Date.now()})})}const p=new Set,f=new Set;function u(e){if(!l.shouldShowInlineAd(e))return!1;const n=s(e?.text);return!!n&&!f.has(n)}e.canRenderInlineAd=u,e.defaultShouldShowBannerAd=d,e.defaultShouldShowInlineAd=a,e.getShouldShowBannerAd=function(){return l.shouldShowBannerAd},e.getShouldShowInlineAd=function(){return l.shouldShowInlineAd},e.initAds=r,e.initializeAdLogic=function(e){r({shouldShowBannerAd:()=>e&&d(),shouldShowInlineAd:n=>e&&a(n)})},e.renderBannerAd=function(e="ad-slot"){if(!l.shouldShowBannerAd())return void console.log("[SDK] Banner ad skipped by condition.");const i=document.getElementById(e);if(!i)return void console.warn(`[SDK] Banner container #${e} not found.`);const d=document.createElement("div");d.className="ad-banner",d.onclick=()=>window.open(o,"_blank"),d.innerHTML=`\n    <img src="${t}" alt="${n}" style="max-width:100%; max-height:100%;">\n  `,i.innerHTML="",i.appendChild(d),console.log("[SDK] Banner ad rendered.")},e.renderInlineAd=function(e="inline-ad-slot",n){if(p.has(e))return void console.log(`[SDK] Slot "${e}" already rendered, skipping.`);const t=s(n?.text);if(!u(n))return void console.log("[SDK] Inline ad skipped (condition or frequency).");const o=i[t];if(!o)return void console.warn(`[SDK] No ad found for category: ${t}`);const d=document.getElementById(e);if(!d)return void console.warn(`[SDK] Inline ad container #${e} not found.`);const a=document.createElement("div");a.className="ad-inline",c({adId:o.adid,type:"inline",event:"impression"}),a.onclick=()=>{console.log("[SDK] Ad clicked:",o.clickUrl),c({adId:o.adid,type:"inline",event:"click"}),window.open(o.clickUrl,"_blank")},a.innerHTML=`\n  <div class="inline-ad-card">\n    <img class="inline-ad-image" src="${o.imageUrl}" alt="${o.title}">\n    <div class="inline-ad-text">\n      <div class="inline-ad-promoted">Promoted</div>\n      <div class="inline-ad-title">${o.title}</div>\n    </div>\n  </div>\n`,d.innerHTML="",d.appendChild(a),f.add(t),function(e){if("undefined"==typeof window)return;const n=`ad_shown_${e}`;sessionStorage.setItem(n,"true")}(t),p.add(e),console.log(`[SDK] Inline ad rendered for category: "${t}"`)}});
